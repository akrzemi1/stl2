\rSec0[intro]{General}

\begin{quote}
Naturally the villagers were intrigued and soon a fire was put to the town's greatest
kettle as the soldiers dropped in three smooth stones.

``Now this will be a fine soup'', said the second soldier;
``but a pinch of salt and some parsley would make it wonderful!''
\begin{flushright}
\textemdash \textit{Author Unknown}
\end{flushright}
\end{quote}

\rSec1[intro.scope]{Scope}

\pnum
This Technical Specification describes extensions to the C++
Programming Language \ref{intro.refs} that
permit operations on ranges of data. These extensions include
changes and additions to the existing library facilities as well
as the extension of some core language facilities. In particular,
changes and extensions to the Standard Library include:

\begin{itemize}
\item The reformulation of the foundational and iterator concept requirements
using the syntax of the Concepts TS \ref{intro.refs}.
\item The respecification of the Standard Library algorithms in terms of the new
concepts.
\item The loosening of the algorithm constraints to permit the use of
\techterm{sentinels} to denote the end of a range and corresponding changes to algorithm
return types where necessary.
\item The addition of new concepts describing \techterm{iterable} and \techterm{range}
abstractions; that is, objects with a begin iterator and an end sentinel.
\item The addition of new overloads of the Standard Library algorithms that take iterable
objects.
\item Support of \techterm{callable objects} (as opposed to \techterm{function objects}) as
arguments to the higher-order algorithms.
\item The addition of optional \techterm{projection} arguments to the algorithms to
permit on-the-fly data transformations.
\item Changes to existing iterator primitives and new primitives in support of the
addition of sentinels to the library.
\item Changes to the existing iterator adaptors and stream iterators to make them model
the new iterator concepts.
\item New iterator adaptors (\tcode{counted_iterator} and \tcode{common_iterator}) and
sentinels (\tcode{unreachable}).
\end{itemize}

\pnum
Changes to the core language include:

\begin{itemize}
\item the extension of the range-based \tcode{for} statement to support
the new iterator range requirements~(\ref{iterator.range}).
\end{itemize}

\pnum
This paper is based on the design presented in ``Ranges for the Standard Library,
Revision 1''~(\ref{intro.refs}). Refer to that document for a discussion of
motivations and design trade-offs.

\pnum
The scope of this paper does not yet extend to the other parts of the Standard Library
that need to change because of the addition of concepts to the langauge (e.g., the numeric
algorithms), nor does it add range support to all the places that could benefit from it (e.g.,
the containers).

\pnum
This paper does not specify any new range views, actions, or facade or adaptor
utilities. See the Future Work appendix~(\ref{future}).

\pnum
The International Standard, ISO/IEC 14882, provides important context
and specification for this paper. This document is
written as a set of changes against that specification. Instructions
to modify or add paragraphs are written as explicit instructions.
Modifications made directly to existing text from the International
Standard use \added{underlining} to represent added text and
\removed{strikethrough} to represent deleted text.

Text in \newtxt{underline} is used to denote text that was added since
the post-Lenexa Ranges telecon on June 11, 2015, and \oldtxt{strikethrough}
denotes text removed.

\rSec1[intro.refs]{Normative references}

\pnum
The following referenced documents are indispensable for the
application of this document. For dated references, only the
edition cited applies. For undated references, the latest edition
of the referenced document (including any amendments) applies.

\begin{itemize}
\item ISO/IEC 14882:2014, \doccite{Programming Languages - \Cpp}
\item JTC1/SC22/WG21 N4377, \doccite{Technical Specification - \Cpp Extensions for Concepts}
\item JTC1/SC22/WG21 N4128, \doccite{Ranges for the Standard Library, Revision 1}
\item JTC1/SC22/WG21 N3351, \doccite{A Concept Design for the STL}
\end{itemize}

ISO/IEC 14882:2014 is herein called the \defn{\Cpp Standard}, N3351 is called the
\defn{``The Palo Alto''} report, and N4377 is called the \defn{Concepts TS}.

\rSec1[intro.compliance]{Implementation compliance}

\pnum
Conformance requirements for this specification are the same as those
defined in \ref{intro.compliance} in the \Cpp Standard.
\enternote
Conformance is defined in terms of the behavior of programs.
\exitnote

\rSec1[intro.ack]{Acknowledgments}

\pnum
The design of this specification is based, in part, on a concept
specification of the algorithms part of the C++ standard library, known
as ``The Palo Alto'' report~(\ref{intro.refs}), which was developed by a large
group of experts as a test of the expressive power of the idea of
concepts.
